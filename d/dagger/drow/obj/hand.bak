#include <std.h>
inherit OBJECT;

void create() {
    ::create();
    set_id(({"hand","bloody hand"}));
    set_name("%^RED%^Bloody hand");
    set_short("%^RED%^Bloody hand%^RESET%^");
    set_long("%^RED%^This is a disgusting bloody hand. It contains magical "
      "properties which involve ancient voodoo evils. The hand can be used "
      "to caress <victim> to inflict them with an ancient voodoo disease. "
      "Your not sure what this disease is but know it must be used with "
      "extreme caution.%^RESET%^"
    );
    set_value(105);
    set_weight(1);
}
void save_me(string file) { return 1; }
void init() {
    ::init();
    add_action("caress_func","caress");
}
int caress_func(string str) {
    object ob;
    if(!str) return notify_fail(
	  "You failed to select a target for the hand.\n"
	);
    if (TP->query_bound() || TP->query_unconscious()) {
       TP->send_paralyzed_message("info",TP);
       return 1;
    }

    if(!(ob = present(str,environment(TP)))) return notify_fail (
	  "Not a valid target.\n"
	);
    if((int)ob->query_highest_level() < 5) return notify_fail("That's just WRONG!!\n");
    tell_room(ETP,
      "%^RED%^%^BOLD%^"+TPQCN+" begins to caress "
      +ob->query_cap_name()+"'s skin with a "
      "bloody hand!%^RESET%^"
      ,({TP,ob}));
    tell_object(TP,
      "%^BOLD%^%^RED%^You begin to caress "+ob->query_cap_name()+
      "'s skin with the bloody hand!%^RESET%^"
    );
    tell_object(ob,
      "%^RED%^%^BOLD%^"+TPQCN+" begins to caress your skin with "
      "a bloody hand!%^RESET%^"
    );
    new("/d/dagger/drow/obj/vomit.c")->move(ob);	
    TP->kill_ob(ob,1);
    TO->remove();
    return 1;
}
