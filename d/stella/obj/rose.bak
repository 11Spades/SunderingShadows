
#include <std.h>
#include <daemons.h>
#include "/d/stella/short.h"

inherit OBJECT;

void init(){
	::init();
	add_action("smell_rose","smell");
	}
	
void create(){
	::create();
	
	set_name("a lovely red rose");
	set_id(({"rose","red rose"}));
        set_short("%^RED%^A lovely red rose%^RESET%^");
        set_long("%^RED%^This lovely red rose looks freshly picked and seems "
           "to glow with an inner light.");
	set_property("magic",1);
	set_weight(1);
	set_value(1000);
	}

int smell_rose(string str){

        if ((!str)||(str != "rose")) {
          notify_fail("Smell what?\n");
          return 0; }

        if(TP->query_paralyzed()){
           tell_object(TP,"The roses fragrance is revitalyzing and energizing!\n");
           say(TPQCN +" smells a rose!\n",TP);
           TP->set_paralyzed(0);
           new("/realms/pegasus/shops/items/dust.c")->move(this_player());
           remove();
        }else{
           tell_object(TP,"The roses fragrance is revitalyzing and energizing!\n");
           say(TPQCN +" smells a rose!\n",TP);
        }
        return 1;
    }
