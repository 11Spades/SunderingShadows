#include <std.h>

inherit ROOM;

void create() {
    ::create();
    set_short("Gates to the castle of the Order");
    set_long(
    "%^CYAN%^  You walk up to the mighty gates of Castle Tir-Na-Nog, home to the %^RESET%^%^BOLD%^Order of the Metallic Dragons. %^RESET%^%^CYAN%^The draw bridge is currently raised to help protect against attackers. In the archway, above the gates, you see a large, menacing, %^RESET%^%^BOLD%^dragon %^RESET%^%^CYAN%^sculpted into the wall itself. Ahead of you, you see the upper limbs of a large oak tree, rising from the center of the castle's courtyard.%^RESET%^"
    );

    set_exits( ([
    "north":"/d/guilds/order/hall/trail3.c"
      ]) );

    set_items( ([
    "dragon":"As you examine the dragon more closely, you could almost swear that its eyes move in order to follow you, though it may just be a trick of the light."
      ]) );
    set_property("no teleport", 1);
    set_property("light", 2);
    set_property("night light", 2);
    set_property("indoors", 1);
}

void init() {
    ::init();
  add_action("call","lower");
}
int call(string str){
  if(!str || (str != "bridge" && str != "draw bridge")) return notify_fail("Try lowering the bridge\n");
  tell_player(TP,"The draw bridge lowers and allows you to enter.");
    tell_room(TO,"The draw bridge lowers and allows "+TPQCN+" to enter unharmed.",TP);
  TP->move_player("/d/guilds/order/hall/main2");
  return 1;
}
